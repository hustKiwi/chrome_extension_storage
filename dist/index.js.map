{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap a4ff771008236ebd4efc","webpack:///./src/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","lVK7","_defineProperty","obj","key","value","writable","_classCallCheck","instance","Constructor","TypeError","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","ChromeStorage","area","arguments","this","indexOf","Error","_area","chrome","storage","keys","_this","r","now","Date","Promise","resolve","expiresList","entries","forEach","_ref","_ref2","k","item","expires","parseInt","remove","join","_this2","runtime","lastError","console","error","clear","_ref3","_ref4","set","_this3","default"],"mappings":"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","file":"index.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"lVK7\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"lVK7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar STORAGE_EXPIRES_KEY = '__EXPIRES__';\n\nvar ChromeStorage = exports.ChromeStorage = function () {\n  function ChromeStorage() {\n    var area = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'local';\n\n    _classCallCheck(this, ChromeStorage);\n\n    if (['local', 'sync'].indexOf(area) < 0) {\n      throw new Error('Area ' + area + ' is not supported.');\n    }\n    this._area = chrome.storage[area];\n  }\n\n  _createClass(ChromeStorage, [{\n    key: 'get',\n    value: function get(keys) {\n      var _this = this;\n\n      var r = {};\n      var now = +new Date();\n\n      return new Promise(function (resolve) {\n        _this._area.get(keys, function (obj) {\n          var expiresList = [];\n\n          Object.entries(obj).forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                k = _ref2[0],\n                item = _ref2[1];\n\n            var expires = parseInt(item[STORAGE_EXPIRES_KEY], 10);\n\n            if (expires) {\n              if (expires < now) {\n                expiresList.push(k);\n              } else {\n                r[k] = item.value;\n              }\n            } else {\n              r[k] = item;\n            }\n          });\n\n          if (expiresList.length) {\n            _this._area.remove(expiresList.join(','), function () {\n              resolve(r);\n            });\n          } else {\n            resolve(r);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'set',\n    value: function set(obj, expires) {\n      var _this2 = this;\n\n      // if the storage does not have enough space,\n      // it will alert a runtime error.\n      // refs:\n      //   - http://stackoverflow.com/a/23593477\n      //   - https://developer.chrome.com/extensions/runtime#property-lastError\n      if (chrome.runtime.lastError) {\n        /* eslint-disable no-console */\n        console.error(chrome.runtime.lastError);\n        /* eslint-enable no-console */\n        this._area.clear();\n      }\n\n      if (expires > 0) {\n        expires = +new Date() + expires;\n        Object.entries(obj).forEach(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              k = _ref4[0],\n              item = _ref4[1];\n\n          obj[k] = _defineProperty({\n            value: item\n          }, STORAGE_EXPIRES_KEY, expires);\n        });\n      }\n\n      return new Promise(function (resolve) {\n        _this2._area.set(obj, resolve);\n      });\n    }\n  }, {\n    key: 'remove',\n    value: function remove(keys) {\n      var _this3 = this;\n\n      return new Promise(function (resolve) {\n        _this3._area.remove(keys, resolve);\n      });\n    }\n  }]);\n\n  return ChromeStorage;\n}();\n\nexports.default = new ChromeStorage();\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"lVK7\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a4ff771008236ebd4efc","const STORAGE_EXPIRES_KEY = '__EXPIRES__';\n\nexport class ChromeStorage {\n  constructor(area = 'local') {\n    if (['local', 'sync'].indexOf(area) < 0) {\n      throw new Error(`Area ${area} is not supported.`);\n    }\n    this._area = chrome.storage[area];\n  }\n\n  get(keys) {\n    const r = {};\n    const now = +new Date();\n\n    return new Promise((resolve) => {\n      this._area.get(keys, (obj) => {\n        const expiresList = [];\n\n        Object.entries(obj).forEach(([k, item]) => {\n          const expires = parseInt(item[STORAGE_EXPIRES_KEY], 10);\n\n          if (expires) {\n            if (expires < now) {\n              expiresList.push(k);\n            } else {\n              r[k] = item.value;\n            }\n          } else {\n            r[k] = item;\n          }\n        });\n\n        if (expiresList.length) {\n          this._area.remove(expiresList.join(','), () => {\n            resolve(r);\n          });\n        } else {\n          resolve(r);\n        }\n      });\n    });\n  }\n\n  set(obj, expires) {\n    // if the storage does not have enough space,\n    // it will alert a runtime error.\n    // refs:\n    //   - http://stackoverflow.com/a/23593477\n    //   - https://developer.chrome.com/extensions/runtime#property-lastError\n    if (chrome.runtime.lastError) {\n      /* eslint-disable no-console */\n      console.error(chrome.runtime.lastError);\n      /* eslint-enable no-console */\n      this._area.clear();\n    }\n\n    if (expires > 0) {\n      expires = +new Date() + expires;\n      Object.entries(obj).forEach(([k, item]) => {\n        obj[k] = {\n          value: item,\n          [STORAGE_EXPIRES_KEY]: expires,\n        };\n      });\n    }\n\n    return new Promise((resolve) => {\n      this._area.set(obj, resolve);\n    });\n  }\n\n  remove(keys) {\n    return new Promise((resolve) => {\n      this._area.remove(keys, resolve);\n    });\n  }\n}\n\nexport default new ChromeStorage();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}